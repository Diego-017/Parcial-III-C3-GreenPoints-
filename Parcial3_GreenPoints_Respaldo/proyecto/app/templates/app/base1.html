<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}GreenPoints{% endblock %}</title>
    {% load static %}

    <style>
        .drawer {
            position: fixed;
            top: 0;
            left: -260px;
            width: 260px;
            height: 100%;
            background-color: #ffffff;
            padding-top: 70px;
            transition: left 0.3s ease-in-out;
            z-index: 2000;
            box-shadow: 2px 0 8px rgba(0,0,0,0.2);
        }

        .drawer a {
            display: block;
            color: green;
            padding: 15px 25px;
            text-decoration: none;
            font-size: 18px;
        }

        .drawer a:hover {
            background: #31af40ff;
            color: white;
        }

        .overlay {
            display: none;
            position: fixed;
            top: 0; 
            left: 0;
            width: 100%; 
            height: 100%;
            background-color: rgba(0, 0, 0, 0.4);
            z-index: 1500;
        }

        #menu-toggle {
            font-size: 26px;
            background: #31af40;
            border: none;
            color: white;
            padding: 10px 15px;
            border-radius: 6px;
            cursor: pointer;
            margin: 15px;
        }
    </style>
</head>
<body>

    <!-- Botón menú -->
    <button id="menu-toggle">☰</button>

    <!-- Drawer -->
    <div id="drawer" class="drawer">
        <a href="/inicio/">Inicio</a>
        <a href="/perfil/">Perfil</a>
        <a href="/registrar-dispositivo/">Registrar dispositivo</a>
        <a href="/registrar-reciclaje/">Registrar reciclaje</a>
        <a href="/canjear/">Canjear</a>
        <a href="/logout/" style="color:red;">Cerrar sesión</a>
    </div>

    <!-- Fondo negro -->
    <div id="overlay" class="overlay"></div>

    <!-- Contenido de la página -->
    <div style="margin-top:20px;">
        {% block content %}{% endblock %}
    </div>

    <script>
        const menuBtn = document.getElementById("menu-toggle");
        const drawer = document.getElementById("drawer");
        const overlay = document.getElementById("overlay");

        menuBtn.addEventListener("click", () => {
            drawer.style.left = "0px";
            overlay.style.display = "block";
        });

        overlay.addEventListener("click", () => {
            drawer.style.left = "-260px";
            overlay.style.display = "none";
        });
    </script>
</body>
</html>
